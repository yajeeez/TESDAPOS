<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Order - TESDA POS</title>
  <link rel="icon" type="image/png" href="../img/TESDALOGO.png"/>
  <link rel="stylesheet" href="css/Order.css"/>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">
      <img src="../img/TESDALOGO.png" alt="Logo" class="logo-img"/>
      <span>TESDA POS SYSTEM</span>
    </div>
    <nav>
      <div class="cart-container">
        <button class="cart-btn" onclick="event.stopPropagation(); toggleCart()">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count" id="cartCount">0</span>
        </button>
        <div class="cart-dropdown" id="cartDropdown" onclick="event.stopPropagation()">
          <div class="cart-header">
            <h3>Cart</h3>
            <button class="close-cart" onclick="event.stopPropagation(); toggleCart()">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="cart-items" id="cartItems">
            <div class="empty-cart">Your cart is empty</div>
          </div>
          <div class="cart-footer" id="cartFooter" style="display: none;">
            <div class="cart-total">
              <strong>Total: ₱<span id="cartTotal">0.00</span></strong>
            </div>
            <div class="cart-actions">
              <button class="cancel-order-btn" onclick="event.stopPropagation(); cancelOrder()">
                <i class="fas fa-times-circle"></i> Cancel Order
              </button>
              <button class="checkout-btn" onclick="event.stopPropagation()">
                <i class="fas fa-check-circle"></i> Checkout
              </button>
            </div>
          </div>
        </div>
      </div>
      <a href="LandingPage.html" class="back-btn"><i class="fas fa-arrow-left"></i> Back</a>
    </nav>
  </header>

  <!-- Order Section -->
  <section class="order-section">
    <!-- Category Filters -->
    <div class="category-filters">
      <button class="filter-btn active" onclick="filterProducts('All')">
        <i class="fas fa-th"></i> All
      </button>
      <button class="filter-btn" onclick="filterProducts('Food')">
        <i class="fas fa-utensils"></i> Food
      </button>
      <button class="filter-btn" onclick="filterProducts('Beverage')">
        <i class="fas fa-coffee"></i> Beverage
      </button>
      <button class="filter-btn" onclick="filterProducts('Snacks')">
        <i class="fas fa-cookie-bite"></i> Snacks
      </button>
    </div>

    <div class="card-grid">
      <!-- Products will be loaded dynamically here -->
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>© 2025 TESDA POS Food Ordering System | All Rights Reserved</p>
  </footer>

  <!-- Confirmation Modal for Cancel Order -->
  <div class="modal-overlay" id="confirmModal" onclick="closeConfirmModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-icon">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <h3 class="modal-title">Cancel Order?</h3>
      <p class="modal-message">Are you sure you want to cancel your entire order? This will clear all items from your cart.</p>
      <div class="modal-actions">
        <button class="modal-btn modal-cancel" onclick="closeConfirmModal()">
          <i class="fas fa-arrow-left"></i> Keep Order
        </button>
        <button class="modal-btn modal-confirm" onclick="confirmCancelOrder()">
          <i class="fas fa-trash-alt"></i> Yes, Cancel
        </button>
      </div>
    </div>
  </div>

  <!-- Confirmation Modal for Remove Item -->
  <div class="modal-overlay" id="removeItemModal" onclick="closeRemoveItemModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-icon">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <h3 class="modal-title">Remove Item?</h3>
      <p class="modal-message" id="removeItemMessage">Are you sure you want to remove this item from your cart?</p>
      <div class="modal-actions">
        <button class="modal-btn modal-cancel" onclick="closeRemoveItemModal()">
          <i class="fas fa-arrow-left"></i> Keep Item
        </button>
        <button class="modal-btn modal-confirm" onclick="confirmRemoveItem()">
          <i class="fas fa-trash-alt"></i> Yes, Remove
        </button>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="js/Order.js"></script>
</body>
</html>
